<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>spmidi.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<table WIDTH="100%" cellpadding="2" cellspacing="0" border="2">
<tr>
<td BGCOLOR="#FFF8DD" ><h1 align="center">Mobileer MIDI Synthesizer - Reference Manual</h1>
  <center>
    <h3>CONFIDENTIAL and PROPRIETARY - &copy; 2002-5 <a href="http://www.mobileer.com/">Mobileer</a>,
      All Rights Reserved </h3>
  </center>
</td>
</tr>
</table>
<center>
<h3>
<a href="../../index.html">Return to Mobileer Documentation Home</a>
</h3>
</center>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>spmidi_util.h File Reference</h1><code>#include &quot;<a class="el" href="spmidi_8h-source.html">spmidi/include/spmidi.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="spmidi__errortext_8h-source.html">spmidi/include/spmidi_errortext.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="midifile__player_8h-source.html">spmidi/include/midifile_player.h</a>&quot;</code><br>

<p>
<a href="spmidi__util_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#473981033c158bf26874693654baa0f9">SPMUtil_ConvertFramesToMSec</a> (unsigned long frameRate, unsigned long numFrames)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert frames to milliseconds based on the given frameRate.  <a href="#473981033c158bf26874693654baa0f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#df22d4e53ff1503d019520ca97f717fb">SPMUtil_ConvertMSecToFrames</a> (unsigned long frameRate, unsigned long msec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert milliseconds to frames based on the given frameRate.  <a href="#df22d4e53ff1503d019520ca97f717fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#d14725714d5696473fbc456a7326cbd1">SPMUtil_GeneralMIDIOn</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn on General MIDI mode which also resets all controllers on all channels, sets all programs to 0, resets volume and pan.  <a href="#d14725714d5696473fbc456a7326cbd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#8ef7ac2e08e09269816475ce50450c60">SPMUtil_BankSelect</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int bankIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the bank of instruments for the given MIDI channel.  <a href="#8ef7ac2e08e09269816475ce50450c60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#2e1511d6a13dbd4dece44ffbb276c8b8">SPMUtil_ProgramChange</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int program)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the program (instrument) on the given MIDI channel.  <a href="#2e1511d6a13dbd4dece44ffbb276c8b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#49e7a31b318f756f01e161810369f4a1">SPMUtil_NoteOn</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int pitch, int velocity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn on a note.  <a href="#49e7a31b318f756f01e161810369f4a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#e54fcf0846d867c5439b57dc9ad2c926">SPMUtil_NoteOff</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int pitch, int velocity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn off a note.  <a href="#e54fcf0846d867c5439b57dc9ad2c926"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#adddb6f5a382ce68a75af04edfb7fb38">SPMUtil_PitchBend</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int bend)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the pitch of all the notes on a channel.  <a href="#adddb6f5a382ce68a75af04edfb7fb38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#b8f99cc0aa286a18461abf83a62c6937">SPMUtil_ControlChange</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int controller, int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change a controller value for a channel.  <a href="#b8f99cc0aa286a18461abf83a62c6937"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#30f0326ec6347c2191823c4da62e07c5">SPMUtil_SetBendRange</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel, int semitones, int cents)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set maximum pitch bend range a channel.  <a href="#30f0326ec6347c2191823c4da62e07c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#1d341226c15ef220311f30406bbfbae3">SPMUtil_AllNotesOff</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn off all notes on the given channel.  <a href="#1d341226c15ef220311f30406bbfbae3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#1c93b77e95eae8e0dd78a576c1454c09">SPMUtil_Reset</a> (<a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn off all notes on all channels.  <a href="#1c93b77e95eae8e0dd78a576c1454c09"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#8d5aa8db980e65c0810eb17bc3d9e768">SPMUtil_GetMaxAmplitude</a> (<a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *player, int samplesPerFrame, int masterVolume, int sampleRate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Play the file and measure the maximum amplitude assuming 16 bit samples.  <a href="#8d5aa8db980e65c0810eb17bc3d9e768"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#574a7f096c19cca361aaaa2a41bcf120">SPMUtil_MeasureMaxAmplitude</a> (<a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *player, <a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *spmidiContext, int samplesPerFrame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Play the file and measure the maximum amplitude assuming 16 bit samples.  <a href="#574a7f096c19cca361aaaa2a41bcf120"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spmidi__util_8h.html#d8bb3df656dd5a076d0690260a91108e">SPMUtil_EstimateMaxAmplitude</a> (<a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *player, int samplesPerFrame, int masterVolume, int sampleRate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Play the file and estimate the maximum amplitude by calling <a class="el" href="spmidi_8h.html#eccb6637b403d60f9f3d0080b3402a83" title="Can be used in place of SPMIDI_ReadFrames() to estimates the max amplitude of synthesized...">SPMIDI_EstimateMaxAmplitude()</a>.  <a href="#d8bb3df656dd5a076d0690260a91108e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Tools for playing SPMIDI on portaudio or to a WAV file. <dl class="author" compact><dt><b>Author:</b></dt><dd>Phil Burk, Copyright 2002 Mobileer, PROPRIETARY and CONFIDENTIAL</dd></dl>
Tools for playing notes, converting units, etc. <dl class="author" compact><dt><b>Author:</b></dt><dd>Phil Burk, Copyright 2002 Mobileer, PROPRIETARY and CONFIDENTIAL </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1d341226c15ef220311f30406bbfbae3"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_AllNotesOff" ref="1d341226c15ef220311f30406bbfbae3" args="(SPMIDI_Context *spmidiContext, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_AllNotesOff           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn off all notes on the given channel. 
<p>

</div>
</div><p>
<a class="anchor" name="8ef7ac2e08e09269816475ce50450c60"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_BankSelect" ref="8ef7ac2e08e09269816475ce50450c60" args="(SPMIDI_Context *spmidiContext, int channel, int bankIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_BankSelect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bankIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the bank of instruments for the given MIDI channel. 
<p>
If there is not a custom bank then it will default to GM. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bankIndex</em>&nbsp;</td><td>complete bank in the form of ((MSB&lt;&lt;8) + LSB) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b8f99cc0aa286a18461abf83a62c6937"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_ControlChange" ref="b8f99cc0aa286a18461abf83a62c6937" args="(SPMIDI_Context *spmidiContext, int channel, int controller, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_ControlChange           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change a controller value for a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>controller</em>&nbsp;</td><td>Controller index from 0 to 127. 7 is volume control. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Controller value from 0 to 127. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="473981033c158bf26874693654baa0f9"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_ConvertFramesToMSec" ref="473981033c158bf26874693654baa0f9" args="(unsigned long frameRate, unsigned long numFrames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long SPMUtil_ConvertFramesToMSec           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>frameRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>numFrames</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert frames to milliseconds based on the given frameRate. 
<p>
The algorithm preserves precision and reduces the chance of numeric overflow. 
</div>
</div><p>
<a class="anchor" name="df22d4e53ff1503d019520ca97f717fb"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_ConvertMSecToFrames" ref="df22d4e53ff1503d019520ca97f717fb" args="(unsigned long frameRate, unsigned long msec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long SPMUtil_ConvertMSecToFrames           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>frameRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>msec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert milliseconds to frames based on the given frameRate. 
<p>
The algorithm preserves precision and reduces the chance of numeric overflow. 
</div>
</div><p>
<a class="anchor" name="d8bb3df656dd5a076d0690260a91108e"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_EstimateMaxAmplitude" ref="d8bb3df656dd5a076d0690260a91108e" args="(MIDIFilePlayer *player, int samplesPerFrame, int masterVolume, int sampleRate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPMUtil_EstimateMaxAmplitude           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *&nbsp;</td>
          <td class="paramname"> <em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>samplesPerFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>masterVolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sampleRate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Play the file and estimate the maximum amplitude by calling <a class="el" href="spmidi_8h.html#eccb6637b403d60f9f3d0080b3402a83" title="Can be used in place of SPMIDI_ReadFrames() to estimates the max amplitude of synthesized...">SPMIDI_EstimateMaxAmplitude()</a>. 
<p>
This function is much quicker but less accurate than <a class="el" href="spmidi__util_8h.html#8d5aa8db980e65c0810eb17bc3d9e768" title="Play the file and measure the maximum amplitude assuming 16 bit samples.">SPMUtil_GetMaxAmplitude()</a>. This function calls <a class="el" href="spmidi_8h.html#596476c9072537337bc48af2259414f1" title="Allocate a context that will contain all of the internal data for a synthesizer.">SPMIDI_CreateContext()</a> and <a class="el" href="spmidi_8h.html#5e10f791bfc3df3bafaf136bd62c79db" title="Terminate SPMIDI Library.">SPMIDI_DeleteContext()</a> so do not call it while in the middle of synthesizing a song.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>masterVolume</em>&nbsp;</td><td>A value of 0x80 is unity gain. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maxAmplitude assuming 16 bit samples or negative if an error occurs. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d14725714d5696473fbc456a7326cbd1"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_GeneralMIDIOn" ref="d14725714d5696473fbc456a7326cbd1" args="(SPMIDI_Context *spmidiContext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_GeneralMIDIOn           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn on General MIDI mode which also resets all controllers on all channels, sets all programs to 0, resets volume and pan. 
<p>
It is called internally when SPMIDI is started. You should call it again before you play another MIDI file if you have not stopped and restarted the SPMIDI engine. 
</div>
</div><p>
<a class="anchor" name="8d5aa8db980e65c0810eb17bc3d9e768"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_GetMaxAmplitude" ref="8d5aa8db980e65c0810eb17bc3d9e768" args="(MIDIFilePlayer *player, int samplesPerFrame, int masterVolume, int sampleRate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPMUtil_GetMaxAmplitude           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *&nbsp;</td>
          <td class="paramname"> <em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>samplesPerFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>masterVolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sampleRate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Play the file and measure the maximum amplitude assuming 16 bit samples. 
<p>
This function calls <a class="el" href="spmidi_8h.html#596476c9072537337bc48af2259414f1" title="Allocate a context that will contain all of the internal data for a synthesizer.">SPMIDI_CreateContext()</a> and <a class="el" href="spmidi_8h.html#5e10f791bfc3df3bafaf136bd62c79db" title="Terminate SPMIDI Library.">SPMIDI_DeleteContext()</a> so do not call it while in the middle of synthesizing a song.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>samplesPerFrame</em>&nbsp;</td><td>Use 1 for mono, 2 for stereo. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>masterVolume</em>&nbsp;</td><td>A value of 0x80 is unity gain. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maxAmplitude assuming 16 bit samples or negative if an error occurs. </dd></dl>

</div>
</div><p>
<a class="anchor" name="574a7f096c19cca361aaaa2a41bcf120"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_MeasureMaxAmplitude" ref="574a7f096c19cca361aaaa2a41bcf120" args="(MIDIFilePlayer *player, SPMIDI_Context *spmidiContext, int samplesPerFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPMUtil_MeasureMaxAmplitude           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="midifile__player_8h.html#2bcc204d6c4b17548b4cd2422700f58f">MIDIFilePlayer</a> *&nbsp;</td>
          <td class="paramname"> <em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>samplesPerFrame</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Play the file and measure the maximum amplitude assuming 16 bit samples. 
<p>
This function does not call <a class="el" href="spmidi_8h.html#596476c9072537337bc48af2259414f1" title="Allocate a context that will contain all of the internal data for a synthesizer.">SPMIDI_CreateContext()</a> or <a class="el" href="spmidi_8h.html#5e10f791bfc3df3bafaf136bd62c79db" title="Terminate SPMIDI Library.">SPMIDI_DeleteContext()</a>. You will need to do that yourself. This allows you to set SPMIDI parameters for the measurement.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>samplesPerFrame</em>&nbsp;</td><td>Use 1 for mono, 2 for stereo. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maxAmplitude assuming 16 bit samples or negative if an error occurs. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e54fcf0846d867c5439b57dc9ad2c926"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_NoteOff" ref="e54fcf0846d867c5439b57dc9ad2c926" args="(SPMIDI_Context *spmidiContext, int channel, int pitch, int velocity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_NoteOff           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>velocity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn off a note. 
<p>
Equivalent to lifting a key on a keyboard. The note will continue to sound for a short time. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>Pitch index ranging from 0 to 127. Middle C is 60. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>velocity</em>&nbsp;</td><td>Loudness control ranging from 0 to 127. Typically 0. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="49e7a31b318f756f01e161810369f4a1"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_NoteOn" ref="49e7a31b318f756f01e161810369f4a1" args="(SPMIDI_Context *spmidiContext, int channel, int pitch, int velocity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_NoteOn           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>velocity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn on a note. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>Pitch index ranging from 0 to 127. Middle C is 60. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>velocity</em>&nbsp;</td><td>Loudness control ranging from 0 to 127. Typically 64. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="adddb6f5a382ce68a75af04edfb7fb38"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_PitchBend" ref="adddb6f5a382ce68a75af04edfb7fb38" args="(SPMIDI_Context *spmidiContext, int channel, int bend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_PitchBend           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bend</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the pitch of all the notes on a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bend</em>&nbsp;</td><td>A 14 bit unsigned pitchbend value. Value for no bend is MIDI_BEND_NONE. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2e1511d6a13dbd4dece44ffbb276c8b8"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_ProgramChange" ref="2e1511d6a13dbd4dece44ffbb276c8b8" args="(SPMIDI_Context *spmidiContext, int channel, int program)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_ProgramChange           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>program</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change the program (instrument) on the given MIDI channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>program</em>&nbsp;</td><td>Instrument index ranging from 0 to 127. Not 1 to 128! </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1c93b77e95eae8e0dd78a576c1454c09"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_Reset" ref="1c93b77e95eae8e0dd78a576c1454c09" args="(SPMIDI_Context *spmidiContext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_Reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn off all notes on all channels. 
<p>
Turn General MIDI ON which resets all controllers. This function simply returns if <a class="el" href="spmidi_8h.html#596476c9072537337bc48af2259414f1" title="Allocate a context that will contain all of the internal data for a synthesizer.">SPMIDI_CreateContext()</a> has not been called. 
</div>
</div><p>
<a class="anchor" name="30f0326ec6347c2191823c4da62e07c5"></a><!-- doxytag: member="spmidi_util.h::SPMUtil_SetBendRange" ref="30f0326ec6347c2191823c4da62e07c5" args="(SPMIDI_Context *spmidiContext, int channel, int semitones, int cents)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPMUtil_SetBendRange           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="spmidi_8h.html#4b392db1d12a4fceb2731bd15e4d14ba">SPMIDI_Context</a> *&nbsp;</td>
          <td class="paramname"> <em>spmidiContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>semitones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cents</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set maximum pitch bend range a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Index of the MIDI channel ranging from 0 to 15. Not 1 to 16! </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>semitones</em>&nbsp;</td><td>Pitch offset for maximum pitch bend from 0 to 12. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cents</em>&nbsp;</td><td>Fractional offset from 0 to 99. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 9 17:36:46 2007 for SPMIDI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
