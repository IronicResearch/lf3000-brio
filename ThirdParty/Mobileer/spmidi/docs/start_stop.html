<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html><!-- InstanceBegin template="/Templates/BasicDoc.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Phil Burk">
   <meta name="GENERATOR" content="Mozilla/4.79 [en] (Windows NT 5.0; U) [Netscape]">
<!-- InstanceBeginEditable name="doctitle" -->
   <title>Compiling ME1000 Programs</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
</head>
<body>
&nbsp;
<center>
<table WIDTH="100%" cellpadding="2" cellspacing="0" border="2">
<tr>
<td width="16%">
  <img src="logo_tiny.jpg" width="154" height="97" ></td>
<td width="84%" BGCOLOR="#FFF8DD" ><h1 align="center">Mobileer MIDI Engine Synthesizer</h1>
  <center>
    <h3>CONFIDENTIAL and PROPRIETARY - &copy; 2002-5 <a href="http://www.mobileer.com/">Mobileer</a>,
      All Rights Reserved </h3>
  </center>
</td>
</tr>
</table>
</center>

<center>
|&nbsp;&nbsp;<a href="index.html">Table of Contents </a>&nbsp;&nbsp;|
&nbsp;<a href="editor/index.html">Instrument_Editor</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="autodocs/html/index.html">Reference Manual</a>&nbsp;&nbsp;|
&nbsp;&nbsp;<a href="programming_guide.html">Programming Guide</a> &nbsp;&nbsp;| <a href="whitepapers/index.html">White Papers</a> |
</center>

<!-- InstanceBeginEditable name="MainContent" -->

<h2>Starting and Stopping the Synthesizer&nbsp;</h2>
<p>Before playing the synthesizer, you must create a context that contains all of the internal state information for the synthesizer. By creating a unique context, we allow multiple songs to be synthesized simultaneously and independantly.
<p> Pass the sample
  rate at which the audio will be played, typically 22050. But any of the following rates are OK: 16000, 22050, 24000, 32000, 44100, 48000.
<blockquote>
    <pre>int err;
SPMIDI_Context *spmidiContext;
err = SPMIDI_CreateContext( &amp;spmidiContext, sampleRate );</pre>
  </blockquote>

<p>This context parameter must be saved and passed to the other SPMIDI routines. </p>
<p>In order to reduce the load on the CPU, you may set the maximum number
  of voices at any time after calling SPMIDI_CreateContext(). If more than the maximum
  number of voices are already playing, then the number of voices will be
  allowed to dwindle by natural attrition.</p>
<blockquote>
  <pre>err = SPMIDI_SetMaxVoices( spmidiContext, 12 );</pre>
</blockquote>
<p>At the end of your program, when you are done using the synthesizer, call:</p>
<blockquote>
  <pre>SPMIDI_DeleteContext( spmidiContext );</pre>
</blockquote>
<p>These functions, and other related functions, are documented in the Reference
Manual under the file "spmidi.h".</p>
<p>[<a href="write_midi.html">Next</a>]
</p>
<!-- InstanceEndEditable -->

</body><!-- InstanceEnd --></html>
