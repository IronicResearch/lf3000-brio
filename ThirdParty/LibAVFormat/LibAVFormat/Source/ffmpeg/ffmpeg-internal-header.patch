--- ffmpeg-0.5.1/libavutil/internal.h	2009-02-21 08:03:30.000000000 -0800
+++ ffmpeg-0.5.1/libavutil/internal.h	2010-04-21 12:10:58.000000000 -0700
@@ -272,7 +272,10 @@
 #endif
 
 
-#if !HAVE_LLRINT
+#if 1 // !HAVE_LLRINT
+#undef llrint
+#define llrint(x) ((long long)rint(x))
+#else
 static av_always_inline av_const long long llrint(double x)
 {
     return rint(x);
@@ -307,7 +310,10 @@
 }
 #endif /* HAVE_ROUNDF */
 
-#if !HAVE_TRUNCF
+#if 1 // !HAVE_TRUNCF
+#undef truncf
+#define truncf(x) ((x > 0) ? floor(x) : ceil(x))
+#else
 static av_always_inline av_const float truncf(float x)
 {
     return (x > 0) ? floor(x) : ceil(x);
